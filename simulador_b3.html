<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Simulador de Investimentos B3</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background-color: #f5f5f5; }
    h1 { color: #003366; }
    table { border-collapse: collapse; width: 100%; margin-bottom: 20px; background-color: white; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background-color: #003366; color: white; }
    .capital-final { font-size: 1.2em; font-weight: bold; margin-top: 20px; }
    .cycle { background-color: #eef; padding: 10px; margin-bottom: 20px; border-radius: 8px; }
  </style>
</head>
<body>
  <h1>Simulador de Investimentos B3</h1>

  <div id="simulacao"></div>
  <div class="capital-final" id="capitalFinal"></div>

  <script>
    // Dados simulados de uma rodada de operações
    const operacoes = [
      {
        buy_date: '2025-04-01',
        sell_date: '2025-04-02',
        pot_results: [
          ['B3SA3', 12.26, 13.50, 110],
          ['PETR4', 29.50, 30.00, 102],
          ['VALE3', 67.80, 70.10, 103.5],
          ['ITUB4', 25.10, 26.00, 103.8],
          ['ABEV3', 13.61, 13.80, 101.4],
          ['MGLU3', 3.10, 3.30, 106.4],
          ['GGBR4', 15.30, 15.90, 103.9],
          ['BBAS3', 38.40, 39.50, 102.7],
          ['BRFS3', 16.00, 16.40, 102.5],
          ['RENT3', 58.70, 60.00, 102.1]
        ],
        capital: 1038.3
      },
      {
        buy_date: '2025-04-03',
        sell_date: '2025-04-04',
        pot_results: [
          ['B3SA3', 13.50, 14.20, 109],
          ['PETR4', 30.00, 30.60, 106],
          ['VALE3', 70.10, 72.00, 107],
          ['ITUB4', 26.00, 26.90, 108],
          ['ABEV3', 13.80, 14.10, 101],
          ['MGLU3', 3.30, 3.50, 107],
          ['GGBR4', 15.90, 16.40, 104],
          ['BBAS3', 39.50, 40.00, 102],
          ['BRFS3', 16.40, 16.70, 102],
          ['RENT3', 60.00, 61.20, 103]
        ],
        capital: 1050.5
      }
    ];

    const container = document.getElementById('simulacao');

    operacoes.forEach((op, index) => {
      const div = document.createElement('div');
      div.className = 'cycle';

      div.innerHTML = `<h3>Ciclo ${index + 1}: Compra ${op.buy_date} → Venda ${op.sell_date}</h3>`;
      
      const table = document.createElement('table');
      table.innerHTML = `
        <tr>
          <th>Pote</th>
          <th>Ação</th>
          <th>Compra (R$)</th>
          <th>Venda (R$)</th>
          <th>Resultado (R$)</th>
        </tr>
      `;

      op.pot_results.forEach((result, idx) => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${idx + 1}</td>
          <td>${result[0]}</td>
          <td>${result[1].toFixed(2)}</td>
          <td>${result[2].toFixed(2)}</td>
          <td>${result[3].toFixed(2)}</td>
        `;
        table.appendChild(row);
      });

      div.appendChild(table);
      div.innerHTML += `<strong>Capital ao final do ciclo: R$ ${op.capital.toFixed(2)}</strong>`;
      container.appendChild(div);
    });

    const finalCapital = operacoes[operacoes.length - 1].capital;
    document.getElementById("capitalFinal").textContent = `Capital Final: R$ ${finalCapital.toFixed(2)}`;
  </script>
</body>
</html>
